<div class="max-w-6xl mx-auto px-6 py-12">
  <h1 class="text-3xl font-bold text-gray-800 mb-8">
    Your Cart
  </h1>

  <% if @cart_items.any? %>
    <div class="bg-white rounded-2xl shadow-lg overflow-hidden">
      <table class="w-full">
        <thead class="bg-gray-100 text-left text-sm text-gray-600">
          <tr>
            <th class="p-4">Product</th>
            <th class="p-4">Price</th>
            <th class="p-4">Quantity</th>
            <th class="p-4">Subtotal</th>
            <th class="p-4"></th>
          </tr>
        </thead>

        <tbody>
          <% @cart_items.each do |product| %>
            <% quantity = @cart[product.id.to_s] %>

            <tr class="border-t">
              <td class="p-4 flex items-center gap-4">
                <% if product.image.attached? %>
                  <%= image_tag product.image,
                        class: "w-16 h-16 object-cover rounded-lg" %>
                <% end %>

                <span class="font-medium text-gray-800">
                  <%= product.name %>
                </span>
              </td>

              <td class="p-4">
                â‚¹ <%= product.price %>
              </td>

              <td class="p-4">
                <span class="px-3 py-1 bg-gray-100 rounded">
                  <%= quantity %>
                </span>
              </td>

              <td class="p-4 font-semibold">
                â‚¹ <%= product.price * quantity %>
              </td>

              <td class="p-4">
                <%= button_to "Remove",
                    cart_path(product_id: product.id),
                    method: :delete,
                    class: "text-red-600 hover:underline" %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>

    <!-- Total -->
    <div class="mt-8 flex justify-end">
      <div class="bg-gray-50 p-6 rounded-xl shadow w-full sm:w-1/3">
        <div class="flex justify-between text-lg font-semibold">
          <span>Total</span>
          <span>â‚¹ <%= @total_price %></span>
        </div>

        <%= link_to "Proceed to Checkout",
            "#",
            class: "block text-center mt-6 bg-indigo-600 text-white py-3 rounded-lg hover:bg-indigo-700 transition" %>
      </div>
    </div>

  <% else %>
    <div class="text-center py-20">
      <p class="text-gray-500 text-lg mb-6">
        Your cart is empty ðŸ›’
      </p>

      <%= link_to "Continue Shopping",
          products_path,
          class: "bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700" %>
    </div>

    
  <% end %>
</div>
